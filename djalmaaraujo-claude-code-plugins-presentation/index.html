<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planner</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #0a0a0a;
      color: #ffffff;
      font-family: 'JetBrains Mono', 'Courier New', monospace;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .container {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      max-width: 100ch;
      margin: 0 auto;
      width: 100%;
    }

    .slide {
      width: 100%;
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }

    .slide.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .ascii-art-wrapper {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .ascii-art {
      color: #00ff00;
      font-size: 0.6rem;
      line-height: 1.1;
      white-space: pre;
      font-weight: bold;
      text-shadow: 0 0 10px #00ff0040;
      transform-origin: center center;
      display: inline-block;
    }

    @media (min-width: 768px) {
      .ascii-art {
        font-size: 0.8rem;
      }
    }

    @media (min-width: 1024px) {
      .ascii-art {
        font-size: 1rem;
      }
    }

    @media (min-width: 1280px) and (max-width: 1439px) {
      .container {
        zoom: 1.2;
      }
    }

    @media (min-width: 1440px) {
      .container {
        zoom: 1.5;
      }
    }

    h1 {
      color: #00ff00;
      font-size: 2rem;
      margin-bottom: 1rem;
      font-weight: bold;
      text-shadow: 0 0 10px #00ff0040;
    }

    h2 {
      color: #00aaff;
      font-size: 1.5rem;
      margin-bottom: 0.75rem;
      font-weight: bold;
    }

    h3 {
      color: #00aaff;
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }

    p {
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    .terminal-list {
      list-style: none;
      margin-bottom: 1rem;
    }

    .terminal-list li {
      margin-bottom: 0.5rem;
      padding-left: 1.5rem;
      position: relative;
      line-height: 1.6;
    }

    .terminal-list .bullet {
      position: absolute;
      left: 0;
      color: #00ff00;
    }

    .code-block {
      background-color: #1a1a1a;
      color: #00ff88;
      padding: 1rem;
      border-radius: 4px;
      margin-bottom: 1rem;
      overflow-x: auto;
      border: 1px solid #333;
    }

    .code-block code {
      font-family: inherit;
    }

    .inline-code {
      background-color: #1a1a1a;
      color: #00ff88;
      padding: 0.15rem 0.4rem;
      border-radius: 3px;
      font-size: 0.9em;
    }

    strong {
      color: #ffffff;
      font-weight: bold;
    }

    em {
      font-style: italic;
      color: #888888;
    }

    hr {
      border: none;
      border-top: 1px dashed #888888;
      margin: 1.5rem 0;
    }

    blockquote {
      border-left: 2px solid #888888;
      padding-left: 1rem;
      color: #888888;
      margin-bottom: 1rem;
      font-style: italic;
    }

    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      padding: 1rem 2rem;
      background: linear-gradient(transparent, #0a0a0a 30%);
      color: #888888;
      font-size: 0.85rem;
    }

    .footer-left {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .progress-bar {
      width: 100px;
      height: 4px;
      background: #333;
      border-radius: 2px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #00ff00;
      transition: width 0.3s ease;
    }

    .help-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 100;
    }

    .help-overlay.active {
      display: flex;
    }

    .help-content {
      background: #1a1a1a;
      padding: 2rem;
      border-radius: 8px;
      border: 1px solid #888888;
      max-width: 400px;
    }

    .help-content h2 {
      margin-bottom: 1rem;
    }

    .help-content .key {
      display: inline-block;
      background: #333;
      padding: 0.2rem 0.5rem;
      border-radius: 3px;
      margin-right: 0.5rem;
      min-width: 2rem;
      text-align: center;
    }

    .help-content li {
      margin-bottom: 0.5rem;
      list-style: none;
    }

    /* Scanline effect for extra terminal feel */
    .scanlines {
      pointer-events: none;
      position: fixed;
      inset: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
      );
      z-index: 1000;
    }

    /* CRT glow effect */
    .crt-glow {
      pointer-events: none;
      position: fixed;
      inset: 0;
      box-shadow: inset 0 0 100px rgba(0, 255, 0, 0.03);
      z-index: 999;
    }
  </style>
</head>
<body>
  <div class="scanlines"></div>
  <div class="crt-glow"></div>

  <div class="container" id="slideContainer">
    <!-- Slides will be injected here -->
  </div>

  <div class="footer">
    <div class="footer-left">
      <span id="slideCounter">Slide 1 of 13</span>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>
    <div>Press <span style="color: #00ff00;">h</span> for help</div>
  </div>

  <div class="help-overlay" id="helpOverlay">
    <div class="help-content">
      <h2 style="color: #00ff00;">Navigation</h2>
      <ul>
        <li><span class="key">→</span> / <span class="key">n</span> / <span class="key">Space</span> Next slide</li>
        <li><span class="key">←</span> / <span class="key">p</span> Previous slide</li>
        <li><span class="key">g</span> First slide</li>
        <li><span class="key">G</span> Last slide</li>
        <li><span class="key">1-9</span> Jump to slide</li>
        <li><span class="key">f</span> Toggle fullscreen</li>
        <li><span class="key">h</span> / <span class="key">?</span> Toggle help</li>
        <li><span class="key">Esc</span> Close help / Exit fullscreen</li>
      </ul>
      <p style="margin-top: 1.5rem; font-size: 0.8rem; color: #888888;">
        Made with <a href="https://github.com/nb/presentercli" target="_blank" rel="noopener" style="color: #00aaff;">presentercli</a>
      </p>
    </div>
  </div>

  <script>
    const slides = [{"title":"Planner","content":"<p style=\"color: #ffffff;\"><strong>A plug-and-play solution using convention over configuration to standardize coding practices, organizational standards, and documentation for your team.</strong></p>\n<p style=\"color: #ffffff;\"><em>Woohoo!</em></p>\n","asciiArt":"  _____  _                             \n |  __ \\| |                            \n | |__) | | __ _ _ __  _ __   ___ _ __ \n |  ___/| |/ _` | '_ \\| '_ \\ / _ \\ '__|\n | |    | | (_| | | | | | | |  __/ |   \n |_|    |_|\\__,_|_| |_|_| |_|\\___|_|   \n                                       \n                                       ","asciiArtWidth":39},{"title":"The Problem","content":"<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Claude Code exhausts context on large features. By step 47, it forgets step 3.</li>\n<li><span class=\"bullet\">•</span> Even with auto-compact, degradation is real for large execution tasks.</li>\n<li><span class=\"bullet\">•</span> Claude won't pick sub-agents as default execution. Slows implementation process.</li>\n<li><span class=\"bullet\">•</span> Teams need documentation. What was implemented? Why? Current tools don't capture this.</li>\n<li><span class=\"bullet\">•</span> Most solutions enforce rigid workflows. Verbose configs. Complex setup. Hard to adopt.</li>\n</ul>\n","asciiArt":"  _______ _            _____           _     _                \n |__   __| |          |  __ \\         | |   | |               \n    | |  | |__   ___  | |__) | __ ___ | |__ | | ___ _ __ ___  \n    | |  | '_ \\ / _ \\ |  ___/ '__/ _ \\| '_ \\| |/ _ \\ '_ ` _ \\ \n    | |  | | | |  __/ | |   | | | (_) | |_) | |  __/ | | | | |\n    |_|  |_| |_|\\___| |_|   |_|  \\___/|_.__/|_|\\___|_| |_| |_|\n                                                              \n                                                              ","asciiArtWidth":62},{"title":"Architecture","content":"<pre class=\"code-block\"><code>~/.claude/plugins/marketplaces/djalmaaraujo-claude-code-plugins/\n├── .claude-plugin/marketplace.json    # Plugin registry\n└── plugins/\n    └── planner/                       # Sub-agent orchestration</code></pre>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> <strong>Commands</strong>: Thin wrappers. Delegate immediately. No logic.</li>\n<li><span class=\"bullet\">•</span> <strong>Skills</strong>: Core instructions. Spawn agents. Report results.</li>\n<li><span class=\"bullet\">•</span> <strong>Agents</strong>: Fresh context. No memory. Execute one plan.</li>\n<li><span class=\"bullet\">•</span> <strong>Libraries</strong>: Shared bash. Centralized config.</li>\n</ul>\n","asciiArt":"                    _     _ _            _                  \n     /\\            | |   (_) |          | |                 \n    /  \\   _ __ ___| |__  _| |_ ___  ___| |_ _   _ _ __ ___ \n   / /\\ \\ | '__/ __| '_ \\| | __/ _ \\/ __| __| | | | '__/ _ \\\n  / ____ \\| | | (__| | | | | ||  __/ (__| |_| |_| | | |  __/\n /_/    \\_\\_|  \\___|_| |_|_|\\__\\___|\\___|\\__|\\__,_|_|  \\___|\n                                                            \n                                                            ","asciiArtWidth":60},{"title":"The Concept","content":"<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Break features into small plans → fresh subagent per plan (~40% context)</li>\n<li><span class=\"bullet\">•</span> Plans declare <code class=\"inline-code\">depends_on</code> → orchestrator builds dependency graph</li>\n<li><span class=\"bullet\">•</span> Execution in rounds → independent plans run parallel, dependencies block</li>\n</ul>\n<pre class=\"code-block\"><code>Feature Request → Plan Files → Dependency Graph → Parallel Execution\n                                                    ↓\n                                              Fresh subagent per plan</code></pre>\n","asciiArt":"  _______ _             _____                           _   \n |__   __| |           / ____|                         | |  \n    | |  | |__   ___  | |     ___  _ __   ___ ___ _ __ | |_ \n    | |  | '_ \\ / _ \\ | |    / _ \\| '_ \\ / __/ _ \\ '_ \\| __|\n    | |  | | | |  __/ | |___| (_) | | | | (_|  __/ |_) | |_ \n    |_|  |_| |_|\\___|  \\_____\\___/|_| |_|\\___\\___| .__/ \\__|\n                                                 | |        \n                                                 |_|        ","asciiArtWidth":60},{"title":"Key Skills","content":"","asciiArt":"  _  __             _____ _    _ _ _     \n | |/ /            / ____| |  (_) | |    \n | ' / ___ _   _  | (___ | | ___| | |___ \n |  < / _ \\ | | |  \\___ \\| |/ / | | / __|\n | . \\  __/ |_| |  ____) |   <| | | \\__ \\\n |_|\\_\\___|\\__, | |_____/|_|\\_\\_|_|_|___/\n            __/ |                        \n           |___/                         ","asciiArtWidth":41},{"title":"Spec Workflow","content":"<p style=\"color: #ffffff;\"><strong>Spec → Plans → Execution</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> <code class=\"inline-code\">spec-create</code>: Comprehensive spec (requirements + design + logistics)</li>\n<li><span class=\"bullet\">•</span> <code class=\"inline-code\">spec-plans-sync</code>: Generates plans from spec. Updates milestones.</li>\n</ul>\n<p style=\"color: #ffffff;\"><strong>7-section spec:</strong> Overview, Current State, Requirements, Design, Implementation, Logistics, Appendix</p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Lifecycle: <code class=\"inline-code\">DRAFT</code> → <code class=\"inline-code\">ACTIVE</code> → <code class=\"inline-code\">DEPRECATED</code></li>\n<li><span class=\"bullet\">•</span> Single source of truth for teams & AI</li>\n</ul>\n<p style=\"color: #ffffff;\"><em>Specs are optional!</em></p>\n","asciiArt":"   _____                  __          __        _     __ _               \n  / ____|                 \\ \\        / /       | |   / _| |              \n | (___  _ __   ___  ___   \\ \\  /\\  / /__  _ __| | _| |_| | _____      __\n  \\___ \\| '_ \\ / _ \\/ __|   \\ \\/  \\/ / _ \\| '__| |/ /  _| |/ _ \\ \\ /\\ / /\n  ____) | |_) |  __/ (__     \\  /\\  / (_) | |  |   <| | | | (_) \\ V  V / \n |_____/| .__/ \\___|\\___|     \\/  \\/ \\___/|_|  |_|\\_\\_| |_|\\___/ \\_/\\_/  \n        | |                                                              \n        |_|                                                              ","asciiArtWidth":73},{"title":"Linear: Overview","content":"<p style=\"color: #ffffff;\"><strong>Three ways to sync plans → Linear</strong></p>\n<p style=\"color: #ffffff;\"><strong>The choice is yours:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Starting fresh? → Create project</li>\n<li><span class=\"bullet\">•</span> Organizing phases? → Create milestone</li>\n<li><span class=\"bullet\">•</span> Quick sync? → Create issues only</li>\n</ul>\n","asciiArt":"  _     _                            ___                       _               \n | |   (_)_ __   ___  __ _ _ __ _   / _ \\__   _____ _ ____   _(_) _____      __\n | |   | | '_ \\ / _ \\/ _` | '__(_) | | | \\ \\ / / _ \\ '__\\ \\ / / |/ _ \\ \\ /\\ / /\n | |___| | | | |  __/ (_| | |   _  | |_| |\\ V /  __/ |   \\ V /| |  __/\\ V  V / \n |_____|_|_| |_|\\___|\\__,_|_|  (_)  \\___/  \\_/ \\___|_|    \\_/ |_|\\___| \\_/\\_/  \n                                                                               ","asciiArtWidth":79},{"title":"Linear: Flexibility","content":"<p style=\"color: #ffffff;\"><strong>When you have a spec file, you choose how to use it:</strong></p>\n<p style=\"color: #ffffff;\"><strong>Why this matters:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Product managers get comprehensive context</li>\n<li><span class=\"bullet\">•</span> Developers see full technical details</li>\n<li><span class=\"bullet\">•</span> Specs become single source of truth for Linear projects</li>\n</ul>\n","asciiArt":"  _      _                           ______ _           _ _     _ _ _ _         \n | |    (_)                      _  |  ____| |         (_) |   (_) (_) |        \n | |     _ _ __   ___  __ _ _ __(_) | |__  | | _____  ___| |__  _| |_| |_ _   _ \n | |    | | '_ \\ / _ \\/ _` | '__|   |  __| | |/ _ \\ \\/ / | '_ \\| | | | __| | | |\n | |____| | | | |  __/ (_| | |   _  | |    | |  __/>  <| | |_) | | | | |_| |_| |\n |______|_|_| |_|\\___|\\__,_|_|  (_) |_|    |_|\\___/_/\\_\\_|_.__/|_|_|_|\\__|\\__, |\n                                                                           __/ |\n                                                                          |___/ ","asciiArtWidth":80},{"title":"Linear: Team Benefits","content":"<p style=\"color: #ffffff;\"><strong>Bidirectional sync:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Plan files store Linear issue URLs</li>\n<li><span class=\"bullet\">•</span> Linear issues link back to plan content</li>\n<li><span class=\"bullet\">•</span> Both stay in sync automatically</li>\n</ul>\n<p style=\"color: #ffffff;\"><strong>What teams gain:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Centralized tracking: all work visible in Linear</li>\n<li><span class=\"bullet\">•</span> Context preservation: full plan content in issue descriptions</li>\n<li><span class=\"bullet\">•</span> Progress transparency: plan status ↔ Linear status</li>\n<li><span class=\"bullet\">•</span> Documentation: project specs auto-generated from plans</li>\n</ul>\n<p style=\"color: #ffffff;\"><strong>No context switch:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Create projects from terminal</li>\n<li><span class=\"bullet\">•</span> Plans → Linear in one command</li>\n<li><span class=\"bullet\">•</span> Updates flow both directions</li>\n</ul>\n","asciiArt":"  _    _                  _   _____                 ___                __ _ _      \n | |  (_)_ _  ___ __ _ _ (_) |_   _|__ __ _ _ __   | _ ) ___ _ _  ___ / _(_) |_ ___\n | |__| | ' \\/ -_) _` | '_|    | |/ -_) _` | '  \\  | _ \\/ -_) ' \\/ -_)  _| |  _(_-<\n |____|_|_||_\\___\\__,_|_|(_)   |_|\\___\\__,_|_|_|_| |___/\\___|_||_\\___|_| |_|\\__/__/\n                                                                                   ","asciiArtWidth":83},{"title":"In Action","content":"<p style=\"color: #ffffff;\"><strong>Complete workflow:</strong></p>\n<pre class=\"code-block\"><code>/planner:planner-setup                    # Configure project\n/planner:spec-create auth &quot;JWT auth&quot;      # Deep analysis → spec\n/planner:spec-plans-sync auth             # Spec → plan files\n/planner:planner-batch --prefix=auth      # Parallel execution</code></pre>\n<p style=\"color: #ffffff;\"><strong>With Linear integration:</strong></p>\n<pre class=\"code-block\"><code>/planner:linear-project-create auth       # Create Linear project\n# or\n/planner:linear-milestone-create          # Add to existing project</code></pre>\n<p style=\"color: #ffffff;\"><strong>Result:</strong> Plans executed, code written, Linear synced. All from terminal.</p>\n","asciiArt":"  _____                      _   _             \n |_   _|           /\\       | | (_)            \n   | |  _ __      /  \\   ___| |_ _  ___  _ __  \n   | | | '_ \\    / /\\ \\ / __| __| |/ _ \\| '_ \\ \n  _| |_| | | |  / ____ \\ (__| |_| | (_) | | | |\n |_____|_| |_| /_/    \\_\\___|\\__|_|\\___/|_| |_|\n                                               \n                                               ","asciiArtWidth":47},{"title":"Configuration","content":"<p style=\"color: #ffffff;\"><strong>plans/planner.config.json</strong></p>\n<pre class=\"code-block\"><code>{\n  &quot;auto_commit&quot;: true,           // Commit after plan completion\n  &quot;auto_update_claude_md&quot;: false,// Update CLAUDE.md with changes\n  &quot;smart_parallelism&quot;: true,     // Aggressive dependency detection\n  &quot;replan_on_exec&quot;: false,       // Re-analyze before executing\n  &quot;uses_spec&quot;: true,             // Enable spec workflow\n  &quot;spec_verbose&quot;: false          // Max inference vs interactive\n}</code></pre>\n<p style=\"color: #ffffff;\"><strong>Key settings:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> <code class=\"inline-code\">auto_commit</code>: Git commit after each successful plan</li>\n<li><span class=\"bullet\">•</span> <code class=\"inline-code\">smart_parallelism</code>: More aggressive parallel execution</li>\n<li><span class=\"bullet\">•</span> <code class=\"inline-code\">uses_spec</code>: Enable specification workflow</li>\n<li><span class=\"bullet\">•</span> <code class=\"inline-code\">spec_verbose</code>: Interactive mode vs max inference</li>\n</ul>\n","asciiArt":"   _____             __ _                       _   _             \n  / ____|           / _(_)                     | | (_)            \n | |     ___  _ __ | |_ _  __ _ _   _ _ __ __ _| |_ _  ___  _ __  \n | |    / _ \\| '_ \\|  _| |/ _` | | | | '__/ _` | __| |/ _ \\| '_ \\ \n | |___| (_) | | | | | | | (_| | |_| | | | (_| | |_| | (_) | | | |\n  \\_____\\___/|_| |_|_| |_|\\__, |\\__,_|_|  \\__,_|\\__|_|\\___/|_| |_|\n                           __/ |                                  \n                          |___/                                   ","asciiArtWidth":66},{"title":"Why This Works","content":"<p style=\"color: #ffffff;\"><strong>Planning mode > vibe coding</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> No more \"find and fix this\" → wasted tokens, unclear progress</li>\n<li><span class=\"bullet\">•</span> Standards create organization and shared expectations</li>\n</ul>\n<p style=\"color: #ffffff;\"><strong>What you gain:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Sense of progress: track plans from start to completion</li>\n<li><span class=\"bullet\">•</span> Team alignment: everyone follows the same structure</li>\n<li><span class=\"bullet\">•</span> Clear expectations: know what's done, what's next, what's blocked</li>\n</ul>\n<p style=\"color: #ffffff;\"><strong>The insight:</strong></p>\n<ul class=\"terminal-list\">\n<li><span class=\"bullet\">•</span> Tools don't matter. Standards do.</li>\n<li><span class=\"bullet\">•</span> Structure beats chaos.</li>\n<li><span class=\"bullet\">•</span> Plans are documentation.</li>\n</ul>\n","asciiArt":" __        ___             _____ _     _      __        __         _        \n \\ \\      / / |__  _   _  |_   _| |__ (_)___  \\ \\      / /__  _ __| | _____ \n  \\ \\ /\\ / /| '_ \\| | | |   | | | '_ \\| / __|  \\ \\ /\\ / / _ \\| '__| |/ / __|\n   \\ V  V / | | | | |_| |   | | | | | | \\__ \\   \\ V  V / (_) | |  |   <\\__ \\\n    \\_/\\_/  |_| |_|\\__, |   |_| |_| |_|_|___/    \\_/\\_/ \\___/|_|  |_|\\_\\___/\n                   |___/                                                    ","asciiArtWidth":76},{"title":"Oh my claude!","content":"<p style=\"color: #ffffff;\"><strong>Thanks</strong></p>\n<p style=\"color: #ffffff;\"><em>AI Pilot — 2026.</em></p>\n","asciiArt":"   ____  _                              _                 _      _ \n  / __ \\| |                            | |               | |    | |\n | |  | | |__    _ __ ___  _   _    ___| | __ _ _   _  __| | ___| |\n | |  | | '_ \\  | '_ ` _ \\| | | |  / __| |/ _` | | | |/ _` |/ _ \\ |\n | |__| | | | | | | | | | | |_| | | (__| | (_| | |_| | (_| |  __/_|\n  \\____/|_| |_| |_| |_| |_|\\__, |  \\___|_|\\__,_|\\__,_|\\__,_|\\___(_)\n                            __/ |                                  \n                           |___/                                   ","asciiArtWidth":67}];
    let currentSlide = 0;

    const MAX_CONTAINER_CHARS = 80;

    function getAsciiArtScale(artWidth) {
      if (!artWidth || artWidth <= MAX_CONTAINER_CHARS) return 1;
      return MAX_CONTAINER_CHARS / artWidth;
    }

    function renderSlides() {
      const container = document.getElementById('slideContainer');
      container.innerHTML = slides.map((slide, index) => {
        if (slide.asciiArt) {
          const scale = getAsciiArtScale(slide.asciiArtWidth);
          const scaleStyle = scale < 1 ? `transform: scale(${scale}); margin: ${-(1-scale) * 2}rem 0;` : '';
          return `
            <div class="slide ${index === 0 ? 'active' : ''}" data-index="${index}">
              <div class="ascii-art-wrapper">
                <pre class="ascii-art" style="${scaleStyle}">${escapeHtml(slide.asciiArt)}</pre>
              </div>
              ${slide.content}
            </div>
          `;
        }
        return `
          <div class="slide ${index === 0 ? 'active' : ''}" data-index="${index}">
            ${slide.content}
          </div>
        `;
      }).join('');
    }

    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    function updateSlide() {
      document.querySelectorAll('.slide').forEach((slide, index) => {
        slide.classList.toggle('active', index === currentSlide);
      });
      document.getElementById('slideCounter').textContent = `Slide ${currentSlide + 1} of ${slides.length}`;
      document.getElementById('progressFill').style.width = `${((currentSlide + 1) / slides.length) * 100}%`;
    }

    function nextSlide() {
      if (currentSlide < slides.length - 1) {
        currentSlide++;
        updateSlide();
      }
    }

    function prevSlide() {
      if (currentSlide > 0) {
        currentSlide--;
        updateSlide();
      }
    }

    function goToSlide(index) {
      if (index >= 0 && index < slides.length) {
        currentSlide = index;
        updateSlide();
      }
    }

    function toggleHelp() {
      document.getElementById('helpOverlay').classList.toggle('active');
    }

    function toggleFullscreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
          console.log('Fullscreen not available:', err);
        });
      } else {
        document.exitFullscreen();
      }
    }

    document.addEventListener('keydown', (e) => {
      const helpOverlay = document.getElementById('helpOverlay');
      const helpActive = helpOverlay.classList.contains('active');

      if (helpActive) {
        if (e.key === 'Escape' || e.key === 'h' || e.key === '?') {
          toggleHelp();
        }
        return;
      }

      switch (e.key) {
        case 'ArrowRight':
        case 'n':
        case ' ':
          e.preventDefault();
          nextSlide();
          break;
        case 'ArrowLeft':
        case 'p':
          e.preventDefault();
          prevSlide();
          break;
        case 'g':
          goToSlide(0);
          break;
        case 'G':
          goToSlide(slides.length - 1);
          break;
        case 'f':
          toggleFullscreen();
          break;
        case 'h':
        case '?':
          toggleHelp();
          break;
        default:
          // Number keys for direct slide access
          if (/^[1-9]$/.test(e.key)) {
            goToSlide(parseInt(e.key) - 1);
          }
          break;
      }
    });

    // Touch support for mobile
    let touchStartX = 0;
    document.addEventListener('touchstart', (e) => {
      touchStartX = e.touches[0].clientX;
    });

    document.addEventListener('touchend', (e) => {
      const touchEndX = e.changedTouches[0].clientX;
      const diff = touchStartX - touchEndX;

      if (Math.abs(diff) > 50) {
        if (diff > 0) {
          nextSlide();
        } else {
          prevSlide();
        }
      }
    });

    // Initialize
    renderSlides();
    updateSlide();
  </script>
</body>
</html>